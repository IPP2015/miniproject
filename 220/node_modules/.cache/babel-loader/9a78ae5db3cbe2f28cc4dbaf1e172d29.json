{"ast":null,"code":"var _jsxFileName = \"D:\\\\data\\\\frontend220\\\\src\\\\components\\\\login.js\";\nimport React from 'react';\nimport api from '../helper/api';\nimport config from '../config/api.config.json';\n\nclass login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      formdata: {\n        username: '',\n        password: ''\n      },\n      isRequest: false\n    };\n    this.onSignIn = this.onSignIn.bind(this);\n    this.textchanged = this.textchanged.bind(this);\n  }\n\n  textchanged(e) {\n    let tmp = this.state.formdata;\n    tmp[e.target.name] = e.target.value;\n    this.setState({\n      formdata: tmp\n    });\n  }\n\n  async onSignIn() {\n    this.setState({\n      isRequest: true\n    });\n    let result = await api.login(this.state.formdata.username, this.state.formdata.password);\n\n    if (result.code === 200) {\n      localStorage.setItem(config.ls.username, JSON.stringify(result.message.usename));\n      localStorage.setItem(config.ls.token, result.message.token);\n      this.props.history.push('/home');\n    } else {\n      alert(result.message);\n    }\n\n    this.setState({\n      isRequest: false\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      class: \"login-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"login-logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"../../index2.html\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"220\"), \" JavaScript\")), React.createElement(\"div\", {\n      class: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"card-body login-card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"input-group mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Username\",\n      name: \"username\",\n      required: \"\",\n      autoFocus: \"\",\n      value: this.state.username,\n      onChange: this.textChanged,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"input-group-append\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"input-group-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      class: \"fas fa-user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      class: \"input-group mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      placeholder: \"Password\",\n      name: \"password\",\n      required: \"\",\n      value: this.state.password,\n      onChange: this.textChanged,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"input-group-append\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"input-group-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      class: \"fas fa-lock\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"icheck-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: \"remember\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"remember\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Remember Me\"))), React.createElement(\"div\", {\n      class: \"col-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-primary btn-block\",\n      disabled: this.state.isRequest,\n      onClick: this.onSignIn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Sign In\")))))));\n  }\n\n}\n\nexport default login;","map":{"version":3,"sources":["D:/data/frontend220/src/components/login.js"],"names":["React","api","config","login","Component","constructor","props","state","formdata","username","password","isRequest","onSignIn","bind","textchanged","e","tmp","target","name","value","setState","result","code","localStorage","setItem","ls","JSON","stringify","message","usename","token","history","push","alert","render","textChanged"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,eAAhB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;;AAEA,MAAMC,KAAN,SAAoBH,KAAK,CAACI,SAA1B,CAAmC;AACnCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAG;AACPC,QAAAA,QAAQ,EAAE,EADH;AAEPC,QAAAA,QAAQ,EAAE;AAFH,OADF;AAKTC,MAAAA,SAAS,EAAE;AALF,KAAb;AAOA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBD,IAAjB,CAAsB,IAAtB,CAAnB;AACH;;AACDC,EAAAA,WAAW,CAACC,CAAD,EAAG;AACV,QAAIC,GAAG,GAAG,KAAKT,KAAL,CAAWC,QAArB;AACAQ,IAAAA,GAAG,CAACD,CAAC,CAACE,MAAF,CAASC,IAAV,CAAH,GAAqBH,CAAC,CAACE,MAAF,CAASE,KAA9B;AACA,SAAKC,QAAL,CAAc;AACVZ,MAAAA,QAAQ,EAAEQ;AADA,KAAd;AAGH;;AACD,QAAMJ,QAAN,GAAgB;AACZ,SAAKQ,QAAL,CAAc;AACVT,MAAAA,SAAS,EAAG;AADF,KAAd;AAII,QAAIU,MAAM,GAAG,MAAMpB,GAAG,CAACE,KAAJ,CAAU,KAAKI,KAAL,CAAWC,QAAX,CAAoBC,QAA9B,EAAwC,KAAKF,KAAL,CAAWC,QAAX,CAAoBE,QAA5D,CAAnB;;AACA,QAAIW,MAAM,CAACC,IAAP,KAAgB,GAApB,EAAwB;AACxBC,MAAAA,YAAY,CAACC,OAAb,CAAqBtB,MAAM,CAACuB,EAAP,CAAUhB,QAA/B,EAAyCiB,IAAI,CAACC,SAAL,CAAeN,MAAM,CAACO,OAAP,CAAeC,OAA9B,CAAzC;AACAN,MAAAA,YAAY,CAACC,OAAb,CAAqBtB,MAAM,CAACuB,EAAP,CAAUK,KAA/B,EAAsCT,MAAM,CAACO,OAAP,CAAeE,KAArD;AACA,WAAKxB,KAAL,CAAWyB,OAAX,CAAmBC,IAAnB,CAAwB,OAAxB;AACH,KAJG,MAKC;AAACC,MAAAA,KAAK,CAACZ,MAAM,CAACO,OAAR,CAAL;AACL;;AACD,SAAKR,QAAL,CAAc;AACVT,MAAAA,SAAS,EAAC;AADA,KAAd;AAGH;;AAEGuB,EAAAA,MAAM,GAAE;AACJ,WACI;AAAK,MAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAK,MAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,IAAI,EAAC,mBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,gBADF,CADA,EAMA;AAAK,MAAA,KAAK,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAC,2BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAC,kBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,SAAS,EAAC,cAFZ;AAGE,MAAA,WAAW,EAAC,UAHd;AAIE,MAAA,IAAI,EAAC,UAJP;AAKE,MAAA,QAAQ,EAAC,EALX;AAME,MAAA,SAAS,EAAC,EANZ;AAOE,MAAA,KAAK,EAAE,KAAK3B,KAAL,CAAWE,QAPpB;AAQE,MAAA,QAAQ,EAAE,KAAK0B,WARjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAWE;AAAK,MAAA,KAAK,EAAC,oBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAC,kBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAM,MAAA,KAAK,EAAC,aAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,CAXF,CADF,EAkBE;AAAK,MAAA,KAAK,EAAC,kBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,SAAS,EAAC,cAFZ;AAGE,MAAA,WAAW,EAAC,UAHd;AAIE,MAAA,IAAI,EAAC,UAJP;AAKE,MAAA,QAAQ,EAAC,EALX;AAME,MAAA,KAAK,EAAE,KAAK5B,KAAL,CAAWG,QANpB;AAOE,MAAA,QAAQ,EAAE,KAAKyB,WAPjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAUE;AAAK,MAAA,KAAK,EAAC,oBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAC,kBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAM,MAAA,KAAK,EAAC,aAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,CAVF,CAlBF,EAkCE;AAAK,MAAA,KAAK,EAAC,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,EAAE,EAAC,UAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAO,MAAA,GAAG,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFF,CADF,CADF,EAOE;AAAK,MAAA,KAAK,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,KAAK,EAAC,2BAFR;AAGE,MAAA,QAAQ,EAAE,KAAK5B,KAAL,CAAWI,SAHvB;AAIE,MAAA,OAAO,EAAE,KAAKC,QAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CAPF,CAlCF,CADF,CADF,CANA,CADJ;AAqFK;;AA5HsB;;AA8HnC,eAAeT,KAAf","sourcesContent":["import React from 'react'\r\nimport api from '../helper/api'\r\nimport config from '../config/api.config.json'\r\n\r\nclass login extends React.Component{\r\nconstructor(props){\r\n    super(props)\r\n    this.state = {\r\n        formdata : {\r\n            username: '',\r\n            password: '',\r\n        },\r\n        isRequest: false\r\n    }\r\n    this.onSignIn = this.onSignIn.bind(this)\r\n    this.textchanged = this.textchanged.bind(this)\r\n}\r\ntextchanged(e){\r\n    let tmp = this.state.formdata\r\n    tmp[e.target.name] = e.target.value\r\n    this.setState({\r\n        formdata: tmp\r\n    })\r\n}\r\nasync onSignIn(){\r\n    this.setState({\r\n        isRequest : true\r\n        })\r\n       \r\n        let result = await api.login(this.state.formdata.username, this.state.formdata.password)\r\n        if (result.code === 200){\r\n        localStorage.setItem(config.ls.username, JSON.stringify(result.message.usename ))\r\n        localStorage.setItem(config.ls.token, result.message.token)\r\n        this.props.history.push('/home')\r\n    }\r\n    else {alert(result.message)\r\n    }\r\n    this.setState({\r\n        isRequest:false\r\n    })\r\n}\r\n\r\n    render(){\r\n        return(\r\n            <div class=\"login-box\">\r\n            <div class=\"login-logo\">\r\n              <a href=\"../../index2.html\">\r\n                <b>220</b> JavaScript\r\n              </a>\r\n            </div>\r\n            <div class=\"card\">\r\n              <div class=\"card-body login-card-body\">\r\n                <form>\r\n                  <div class=\"input-group mb-3\">\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"Username\"\r\n                      name=\"username\"\r\n                      required=\"\"\r\n                      autoFocus=\"\"\r\n                      value={this.state.username}\r\n                      onChange={this.textChanged}\r\n                    />\r\n                    <div class=\"input-group-append\">\r\n                      <div class=\"input-group-text\">\r\n                        <span class=\"fas fa-user\"></span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"input-group mb-3\">\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"Password\"\r\n                      name=\"password\"\r\n                      required=\"\"\r\n                      value={this.state.password}\r\n                      onChange={this.textChanged}\r\n                    />\r\n                    <div class=\"input-group-append\">\r\n                      <div class=\"input-group-text\">\r\n                        <span class=\"fas fa-lock\"></span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-8\">\r\n                      <div class=\"icheck-primary\">\r\n                        <input type=\"checkbox\" id=\"remember\" />\r\n                        <label for=\"remember\">Remember Me</label>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-4\">\r\n                      <button\r\n                        type=\"button\"\r\n                        class=\"btn btn-primary btn-block\"\r\n                        disabled={this.state.isRequest}\r\n                        onClick={this.onSignIn}\r\n                      >\r\n                        Sign In\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n    \r\n                {/* <div class=\"social-auth-links text-center mb-3\">\r\n                  <p>- OR -</p>\r\n                  <a href=\"#\" class=\"btn btn-block btn-primary\">\r\n                    <i class=\"fab fa-facebook mr-2\"></i> Sign in using Facebook\r\n                  </a>\r\n                  <a href=\"#\" class=\"btn btn-block btn-danger\">\r\n                    <i class=\"fab fa-google-plus mr-2\"></i> Sign in using Google+\r\n                  </a>\r\n                </div> */}\r\n    \r\n                {/* <p class=\"mb-1\">\r\n                  <a href=\"#\">I forgot my password</a>\r\n                </p>\r\n                <p class=\"mb-0\">\r\n                  <a href=\"#\" class=\"text-center\">\r\n                    Register\r\n                  </a>\r\n                </p> */}\r\n              </div>\r\n            </div>\r\n          </div>\r\n                )\r\n            }\r\n}\r\nexport default login"]},"metadata":{},"sourceType":"module"}